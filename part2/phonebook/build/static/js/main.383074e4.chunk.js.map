{"version":3,"sources":["components/Filter.js","components/Person.js","components/Display.js","components/PhonebookForm.js","services/persons.js","components/Notification.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","props","value","newFilter","onChange","handleChange","Person","person","handleDelete","name","number","onClick","Display","filteredPersons","map","id","PhonebookForm","onSubmit","handleSubmit","newName","newNumber","type","baseUrl","axios","get","then","response","data","newPerson","post","delete","updatedPerson","put","Notification","notification","message","className","status","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setNotification","useEffect","personService","initialPersons","handleNotification","setTimeout","event","target","filter","toLowerCase","includes","preventDefault","duplicatePerson","find","window","confirm","catch","_","handleDuplicate","createdPerson","concat","p","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.383074e4.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = (props) => {\n  return (\n    <>\n      filter shown with{\" \"}\n      <input value={props.newFilter} onChange={props.handleChange(\"filter\")} />\n    </>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Person = ({ person, handleDelete }) => {\n  return (\n    <div>\n      {`${person.name} ${person.number}`}{\" \"}\n      <button onClick={handleDelete(person)}>delete</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Display = (props) => {\n  return (\n    <>\n      {props.filteredPersons.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          handleDelete={props.handleDelete}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default Display;\n","import React from \"react\";\n\nconst PhonebookForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        name:{\" \"}\n        <input value={props.newName} onChange={props.handleChange(\"name\")} />\n        <br />\n        number:{\" \"}\n        <input\n          value={props.newNumber}\n          onChange={props.handleChange(\"number\")}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PhonebookForm;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => axios.get(baseUrl).then((response) => response.data);\n\nconst createPerson = (newPerson) =>\n  axios.post(baseUrl, newPerson).then((response) => response.data);\n\nconst deletePerson = (id) =>\n  axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n\nconst updatePerson = (id, updatedPerson) =>\n  axios\n    .put(`${baseUrl}/${id}`, updatedPerson)\n    .then((response) => response.data);\n\nexport default {\n  getAll,\n  createPerson,\n  deletePerson,\n  updatePerson,\n};\n","import React from \"react\";\n\nconst Notification = (props) => {\n  if (!props.notification.message) {\n    return null;\n  }\n  return (\n    <div className={props.notification.status}>\n      {props.notification.message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Display from \"./components/Display\";\nimport PhonebookForm from \"./components/PhonebookForm\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [notification, setNotification] = useState({\n    message: \"\",\n    status: \"\",\n  });\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => setPersons(initialPersons));\n  }, []);\n\n  const handleNotification = (message, status) => {\n    setNotification({ message, status });\n    setTimeout(() => setNotification({ message: \"\", status: \"\" }), 5000);\n  };\n\n  const handleDuplicate = (duplicatePerson) => {\n    personService\n      .updatePerson(duplicatePerson.id, {\n        ...duplicatePerson,\n        number: newNumber,\n      })\n      .then((updatedPerson) => {\n        setPersons(\n          persons.map((person) =>\n            person.id === updatedPerson.id ? updatedPerson : person\n          )\n        );\n        handleNotification(`Updated ${updatedPerson.name}'s number`, \"success\");\n      })\n      .catch((_) => {\n        handleNotification(\n          `${duplicatePerson.name} was already deleted from server.`,\n          \"error\"\n        );\n        setPersons(\n          persons.filter((person) => person.id !== duplicatePerson.id)\n        );\n      });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const duplicatePerson = persons.find((person) => person.name === newName);\n    // if the person has already been added to the phonebook, create an alert\n    if (duplicatePerson) {\n      window.confirm(\n        `${duplicatePerson.name} is already added to phonebook. Replace the old number with a new one?`\n      ) && handleDuplicate(duplicatePerson);\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      };\n      personService.createPerson(newPerson).then((createdPerson) => {\n        setPersons(persons.concat(createdPerson));\n        handleNotification(`Added ${createdPerson.name}`, \"success\");\n      });\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleChange = (type) => {\n    return {\n      name: (event) => setNewName(event.target.value),\n      number: (event) => setNewNumber(event.target.value),\n      filter: (event) => {\n        setNewFilter(event.target.value);\n      },\n    }[type];\n  };\n\n  const handleDelete = (person) => () => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .deletePerson(person.id)\n        .then((_) => handleNotification(`Deleted ${person.name}`, \"success\"))\n        .catch((_) => {\n          handleNotification(\n            `${person.name} was already deleted from server.`,\n            \"error\"\n          );\n          setPersons(persons.filter((p) => p.id !== person.id));\n        }); // returns empty JSON object\n      setPersons(persons.filter((p) => p.id !== person.id));\n    }\n  };\n\n  const filteredPersons = newFilter\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(newFilter.toLowerCase())\n      )\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter newFilter={newFilter} handleChange={handleChange} />\n      <h2>add a new</h2>\n      <PhonebookForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        newNumber={newNumber}\n        handleChange={handleChange}\n      />\n      <h2>Numbers</h2>\n      <Display filteredPersons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}